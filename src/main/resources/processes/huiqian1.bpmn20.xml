<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef">
  <process id="huiqian1" name="huiqian1" isExecutable="true">
    <startEvent id="sid-fe170515-301b-4c83-aaf5-7444de4593a7" name="开始"/>
    <userTask id="sid-0bc7a1b3-f1da-46df-bb44-8a36045736b8" name="填写申请表" activiti:assignee="${assignee}"/>
    <sequenceFlow id="sid-27b7c495-0453-4ab8-a8be-f344d1965dbc" sourceRef="sid-fe170515-301b-4c83-aaf5-7444de4593a7" targetRef="sid-0bc7a1b3-f1da-46df-bb44-8a36045736b8"/>
    <userTask id="sid-9df8bccf-fe4b-4bd4-980b-b3967e7083db" name="会签">
      <extensionElements>
        <!--创建执行监听器
                class 当前监听的类
                event 处理后的操作
                -->
        <activiti:taskListener class="cxyz.hlmy.spicystrip.model.actviti.listener.ActNotifyListener" event="complete"/>
      </extensionElements>
      <!--多实例循环特性
            isSequential false
            collection 集合
            elementVariable  元素变量
            -->
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${signList}" activiti:elementVariable="signer">
        <!--完成条件-->
        <completionCondition>${pass == false}</completionCondition>
      </multiInstanceLoopCharacteristics>
    </userTask>
    <sequenceFlow id="sid-9edfca25-b904-4355-bb47-0f36df112413" sourceRef="sid-0bc7a1b3-f1da-46df-bb44-8a36045736b8" targetRef="sid-9df8bccf-fe4b-4bd4-980b-b3967e7083db"/>
    <!--网关-->
    <exclusiveGateway id="sid-8923e398-e5bf-4d40-8e28-cb4a24290f48"/>
    <sequenceFlow id="sid-7519df9d-d8cb-4813-96ad-6e477a5ed37d" sourceRef="sid-9df8bccf-fe4b-4bd4-980b-b3967e7083db" targetRef="sid-8923e398-e5bf-4d40-8e28-cb4a24290f48"/>
    <userTask id="sid-6eae8bdc-c8ad-4ed5-a990-c6dbca723aca" name="记录"/>
    <sequenceFlow id="sid-079591fe-226e-413b-b37e-dd76e9ea8803" sourceRef="sid-8923e398-e5bf-4d40-8e28-cb4a24290f48" targetRef="sid-6eae8bdc-c8ad-4ed5-a990-c6dbca723aca" name="通过">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${result == "Y"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-7dddd6c3-7589-43fe-9cf6-594e5f905d05" sourceRef="sid-8923e398-e5bf-4d40-8e28-cb4a24290f48" targetRef="sid-0bc7a1b3-f1da-46df-bb44-8a36045736b8" name="拒绝">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${result == "N"}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-2d3a411b-83e6-4e07-bb2b-44211685efe5" name="结束"/>
    <sequenceFlow id="sid-3f760019-0a64-47cd-977b-dbe481344a6d" sourceRef="sid-6eae8bdc-c8ad-4ed5-a990-c6dbca723aca" targetRef="sid-2d3a411b-83e6-4e07-bb2b-44211685efe5"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_huiqian1">
    <bpmndi:BPMNPlane bpmnElement="huiqian1" id="BPMNPlane_huiqian1">
      <bpmndi:BPMNShape id="shape-3e7b53cf-0889-4c94-9027-5b63ab39d0aa" bpmnElement="sid-fe170515-301b-4c83-aaf5-7444de4593a7">
        <omgdc:Bounds x="255.0" y="-240.0" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-0bdb64f3-441e-4f27-9239-ae62bd17c9ec" bpmnElement="sid-0bc7a1b3-f1da-46df-bb44-8a36045736b8">
        <omgdc:Bounds x="240.0" y="-185.0" width="60.0" height="35.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-5514a1ac-f795-4329-b177-599aadea8b7b" bpmnElement="sid-27b7c495-0453-4ab8-a8be-f344d1965dbc">
        <omgdi:waypoint x="270.0" y="-210.0"/>
        <omgdi:waypoint x="270.0" y="-185.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-236ef6b7-74c6-4c2f-b06a-a6877ae446e9" bpmnElement="sid-9df8bccf-fe4b-4bd4-980b-b3967e7083db">
        <omgdc:Bounds x="242.5" y="-130.0" width="55.0" height="35.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-c292d1c8-6415-4d16-b6f7-b9f93b5275f8" bpmnElement="sid-9edfca25-b904-4355-bb47-0f36df112413">
        <omgdi:waypoint x="270.0" y="-150.0"/>
        <omgdi:waypoint x="270.0" y="-130.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-cc421379-6501-4596-819e-ad15e5974912" bpmnElement="sid-8923e398-e5bf-4d40-8e28-cb4a24290f48">
        <omgdc:Bounds x="250.0" y="-75.0" width="40.0" height="40.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-ff822b04-76a8-4354-a8e1-813846fab9c2" bpmnElement="sid-7519df9d-d8cb-4813-96ad-6e477a5ed37d">
        <omgdi:waypoint x="270.0" y="-95.0"/>
        <omgdi:waypoint x="270.0" y="-75.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-2d746245-69db-4bd8-a492-a58a56f84179" bpmnElement="sid-6eae8bdc-c8ad-4ed5-a990-c6dbca723aca">
        <omgdc:Bounds x="240.00003" y="0.0" width="60.0" height="35.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-5bb654cc-d2ba-4100-b7fe-4ceb7c80a7c7" bpmnElement="sid-079591fe-226e-413b-b37e-dd76e9ea8803">
        <omgdi:waypoint x="270.0" y="-35.0"/>
        <omgdi:waypoint x="270.00003" y="0.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-5b843897-5ba4-4211-a4db-d8aacfbdd5be" bpmnElement="sid-7dddd6c3-7589-43fe-9cf6-594e5f905d05">
        <omgdi:waypoint x="250.0" y="-55.0"/>
        <omgdi:waypoint x="197.5" y="-55.0"/>
        <omgdi:waypoint x="191.25" y="-150.0"/>
        <omgdi:waypoint x="240.00002" y="-167.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-606c3633-1e39-4eb8-a73c-99e7e089b0b3" bpmnElement="sid-2d3a411b-83e6-4e07-bb2b-44211685efe5">
        <omgdc:Bounds x="255.0" y="60.0" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-c32bee9d-a6ac-47cb-891c-22f8474b8a64" bpmnElement="sid-3f760019-0a64-47cd-977b-dbe481344a6d">
        <omgdi:waypoint x="270.00003" y="35.0"/>
        <omgdi:waypoint x="270.0" y="60.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
